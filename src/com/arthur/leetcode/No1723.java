package com.arthur.leetcode;

import com.sun.prism.j2d.J2DPipeline;

import javax.print.attribute.standard.JobSheets;

/**
 * @title: No1723
 * @Author ArthurJi
 * @Date: 2021/5/8 9:13
 * @Version 1.0
 */
public class No1723 {
    public static void main(String[] args) {

    }

    private int k_;
    int[] jobs_;
    private int ans = Integer.MAX_VALUE;
    public int minimumTimeRequired(int[] jobs, int k) {
        int u = 0;
        int used = 0;
        k_ = k;
        jobs_ = jobs;
        int[] sum = new int[jobs.length];
        int max = 0;
        dfs(u, used, sum, max);
        return ans;
    }

    /*
     * @Date: 2021/5/8 9:27
     * Step   /**
     * u     : å½“å‰å¤„ç†åˆ°é‚£ä¸ª job
     * used  : å½“å‰åˆ†é…ç»™äº†å¤šå°‘ä¸ªå·¥äººäº†
     * sum   : å·¥äººçš„åˆ†é…æƒ…å†µ          ä¾‹å¦‚ï¼šsum[0] = x ä»£è¡¨ 0 å·å·¥äººå·¥ä½œé‡ä¸º x
     * max   : å½“å‰çš„ã€Œæœ€å¤§å·¥ä½œæ—¶é—´
     */
    void dfs(int u, int used, int[] sum, int max) {
        if(max >= ans) {
            return;
        }
        if(u == sum.length) {
            ans = max;
            return;
        }
        if(used < k_) {
            sum[used] = jobs_[u];
            dfs(u + 1, used + 1, sum, Math.max(sum[used], max));
            sum[used] = 0;
        }
        for (int i = 0; i < used; i++) {
            sum[i] += jobs_[u];
            dfs(u + 1, used, sum, Math.max(max, sum[i]));
            sum[i] -= jobs_[u];
        }
    }
}



/*1723. å®Œæˆæ‰€æœ‰å·¥ä½œçš„æœ€çŸ­æ—¶é—´
        ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ jobs ï¼Œå…¶ä¸­ jobs[i] æ˜¯å®Œæˆç¬¬ i é¡¹å·¥ä½œè¦èŠ±è´¹çš„æ—¶é—´ã€‚

        è¯·ä½ å°†è¿™äº›å·¥ä½œåˆ†é…ç»™ k ä½å·¥äººã€‚æ‰€æœ‰å·¥ä½œéƒ½åº”è¯¥åˆ†é…ç»™å·¥äººï¼Œä¸”æ¯é¡¹å·¥ä½œåªèƒ½åˆ†é…ç»™ä¸€ä½å·¥äººã€‚å·¥äººçš„ å·¥ä½œæ—¶é—´ æ˜¯å®Œæˆåˆ†é…ç»™ä»–ä»¬çš„æ‰€æœ‰å·¥ä½œèŠ±è´¹æ—¶é—´çš„æ€»å’Œã€‚è¯·ä½ è®¾è®¡ä¸€å¥—æœ€ä½³çš„å·¥ä½œåˆ†é…æ–¹æ¡ˆï¼Œä½¿å·¥äººçš„ æœ€å¤§å·¥ä½œæ—¶é—´ å¾—ä»¥ æœ€å°åŒ– ã€‚

        è¿”å›åˆ†é…æ–¹æ¡ˆä¸­å°½å¯èƒ½ æœ€å° çš„ æœ€å¤§å·¥ä½œæ—¶é—´ ã€‚



        ç¤ºä¾‹ 1ï¼š

        è¾“å…¥ï¼šjobs = [3,2,3], k = 3
        è¾“å‡ºï¼š3
        è§£é‡Šï¼šç»™æ¯ä½å·¥äººåˆ†é…ä¸€é¡¹å·¥ä½œï¼Œæœ€å¤§å·¥ä½œæ—¶é—´æ˜¯ 3 ã€‚
        ç¤ºä¾‹ 2ï¼š

        è¾“å…¥ï¼šjobs = [1,2,4,7,8], k = 2
        è¾“å‡ºï¼š11
        è§£é‡Šï¼šæŒ‰ä¸‹è¿°æ–¹å¼åˆ†é…å·¥ä½œï¼š
        1 å·å·¥äººï¼š1ã€2ã€8ï¼ˆå·¥ä½œæ—¶é—´ = 1 + 2 + 8 = 11ï¼‰
        2 å·å·¥äººï¼š4ã€7ï¼ˆå·¥ä½œæ—¶é—´ = 4 + 7 = 11ï¼‰
        æœ€å¤§å·¥ä½œæ—¶é—´æ˜¯ 11 ã€‚*/
/*
ä¼˜å…ˆåˆ†é…ã€Œç©ºé—²å·¥äººã€çš„ DFS
        é‚£ä¹ˆ DFS å°±æ²¡æ³•è¿‡äº†å—ï¼Ÿ

        é™¤äº† max >= ans ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜è¦åšäº›åˆ«çš„å‰ªæå—ï¼Ÿ

        æˆ‘ä»¬å¯ä»¥é‡æ–°å®¡è§†ä¸€ä¸‹è¿™é“é¢˜ã€‚

        é¢˜ç›®å…¶å®æ˜¯è®©æˆ‘ä»¬å°† nn ä¸ªæ•°åˆ†ä¸º kk ä»½ï¼Œå¹¶ä¸”å°½å¯èƒ½è®© kk ä»½å¹³å‡ã€‚è¿™æ ·çš„ã€Œæœ€å¤§å·¥ä½œæ—¶é—´ã€æ‰æ˜¯æœ€å°çš„ã€‚

        ä½†åœ¨æœ´ç´ çš„ DFS ä¸­ï¼Œæˆ‘ä»¬æ˜¯å°†æ¯ä¸ªä»»åŠ¡ä¾æ¬¡åˆ†ç»™æ¯ä¸ªå·¥äººï¼Œå¹¶é€’å½’æ­¤è¿‡ç¨‹ã€‚

        å¯¹åº”çš„é€’å½’æ ‘å…¶å®æ˜¯ä¸€é¢—é«˜åº¦ä¸º nn çš„ kk é˜¶æ ‘ã€‚

        æ‰€ä»¥å…¶å®æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ›´æ–°çš„ ans å…¶å®æ˜¯ã€Œæœ€å·®ã€çš„ç­”æ¡ˆï¼ˆæ‰€æœ‰çš„ä»»åŠ¡éƒ½ä¼šåˆ†é…ç»™ 00 å·å·¥äººï¼‰ï¼Œæœ€å·®çš„ ans ä¸ºæ‰€æœ‰çš„ job çš„æ€»å’Œï¼ˆå¸¦ç¼–å·çš„æ–¹å—ä»£è¡¨å·¥äººï¼‰:



        å› æ­¤æˆ‘ä»¬æœ´ç´ ç‰ˆçš„ DFS å…¶å®æ˜¯å¼±åŒ–äº† max >= ans å‰ªææ•ˆæœçš„ã€‚

        é‚£ä¹ˆæƒ³è¦æœ€å¤§åŒ–å‰ªææ•ˆæœï¼Œå¹¶ä¸”å°½é‡è®© kk ä»½å¹³å‡çš„è¯ï¼Œæˆ‘ä»¬åº”å½“è°ƒæ•´æˆ‘ä»¬å¯¹äºã€Œé€’å½’æ ‘ã€çš„æœç´¢æ–¹å‘ï¼šå°†ä»»åŠ¡ä¼˜å…ˆåˆ†é…ç»™ã€Œç©ºé—²å·¥äººã€ï¼ˆå¸¦ç¼–å·çš„æ–¹å—ä»£è¡¨å·¥äººï¼‰ï¼š



        æ ‘è¿˜æ˜¯é‚£é¢—æ ‘ï¼Œä½†æ˜¯æœç´¢è°ƒæ•´åˆ†é…ä¼˜å…ˆçº§åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¦–æ¬¡å–å¾—ä¸€ä¸ªã€Œè¾ƒå¥½ã€çš„ç­”æ¡ˆï¼Œæ¥å¢å¼ºæˆ‘ä»¬çš„ max >= ans å‰ªææ•ˆç›Šã€‚

        äº‹å®ä¸Šï¼Œå½“åšå®Œè¿™ä¸ªè°ƒæ•´ï¼Œæˆ‘ä»¬èƒ½å®ç°ä» TLE åˆ° 99% çš„æå‡ ğŸ¤£ ğŸ¤£



        ä»£ç ï¼š

        Java

class Solution {
    int[] jobs;
    int n, k;
    int ans = 0x3f3f3f3f;
    public int minimumTimeRequired(int[] _jobs, int _k) {
        jobs = _jobs;
        n = jobs.length;
        k = _k;
        int[] sum = new int[k];
        dfs(0, 0, sum, 0);
        return ans;
    }
    */
/**
     * u     : å½“å‰å¤„ç†åˆ°é‚£ä¸ª job
     * used  : å½“å‰åˆ†é…ç»™äº†å¤šå°‘ä¸ªå·¥äººäº†
     * sum   : å·¥äººçš„åˆ†é…æƒ…å†µ          ä¾‹å¦‚ï¼šsum[0] = x ä»£è¡¨ 0 å·å·¥äººå·¥ä½œé‡ä¸º x
     * max   : å½“å‰çš„ã€Œæœ€å¤§å·¥ä½œæ—¶é—´ã€
     *//*

    void dfs(int u, int used, int[] sum, int max) {
        if (max >= ans) return;
        if (u == n) {
            ans = max;
            return;
        }
        // ä¼˜å…ˆåˆ†é…ç»™ã€Œç©ºé—²å·¥äººã€
        if (used < k) {
            sum[used] = jobs[u];
            dfs(u + 1, used + 1, sum, Math.max(sum[used], max));
            sum[used] = 0;
        }
        for (int i = 0; i < used; i++) {
            sum[i] += jobs[u];
            dfs(u + 1, used, sum, Math.max(sum[i], max));
            sum[i] -= jobs[u];
        }
    }
}
æ—¶é—´å¤æ‚åº¦ï¼šO(k^n)O(k
        n
        )
        ç©ºé—´å¤æ‚åº¦ï¼šO(k)O(k)

        ä½œè€…ï¼šAC_OIer
        é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/find-minimum-time-to-finish-all-jobs/solution/gong-shui-san-xie-yi-ti-shuang-jie-jian-4epdd/
        æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
        è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚*/
